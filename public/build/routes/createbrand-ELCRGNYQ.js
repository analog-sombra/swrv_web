import{a as ie}from"/build/_shared/chunk-RPPBX5QT.js";import{a as we}from"/build/_shared/chunk-J32PS5QO.js";import{a as B}from"/build/_shared/chunk-6ONMTUBQ.js";import{a as C,b as k}from"/build/_shared/chunk-MNPIC26H.js";import{E as de,a as oe}from"/build/_shared/chunk-DJ3N2H5H.js";import{a as re,f as ne,k as le}from"/build/_shared/chunk-WLPYV2BQ.js";import{c as w,d as Ee,e as ae}from"/build/_shared/chunk-7UEYUE33.js";var r=w(Ee());var ue=w(we()),e=w(ae());var Ne=()=>{let se=re(),ce=le().user.id,[y,n]=(0,r.useState)(""),[u,me]=(0,r.useState)(null),L=(0,r.useRef)(null),[h,I]=(0,r.useState)(null),[E,A]=(0,r.useState)(null),[fe,N]=(0,r.useState)(!1),[F,pe]=(0,r.useState)([]),[a,ge]=(0,r.useState)(null),[o,be]=(0,r.useState)(),ve=t=>{be(t.target.value.replace(/\D/g,""))},d=(0,r.useRef)(null),xe=async t=>{let l=await C.post(`${k}/api/get-city`,{search:t});pe(l.data.data)},s=(0,r.useRef)(null),c=(0,r.useRef)(null),m=(0,r.useRef)(null),f=(0,r.useRef)(null),i=(0,r.useRef)(null),p=(0,r.useRef)(null),g=(0,r.useRef)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`w-full h-screen bg-black bg-opacity-25 fixed top-0 left-0  place-items-center ${fe?"grid":"hidden"}`,children:(0,e.jsx)("div",{className:"bg-white shadow-md w-80 rounded-lg p-4",children:F.length==0?(0,e.jsxs)("div",{className:"w-80 h-96",children:[(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:"No city found with this name"}),(0,e.jsx)("button",{className:"px-5 mx-auto bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",onClick:()=>{N(!1)},children:"Close"})]}):(0,e.jsx)("div",{className:"h-72 overflow-y-scroll no-scrollbar",children:F.map((t,l)=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{onClick:()=>{ge(t),N(!1),d.current.value=""},className:"my-6 cursor-pointer bg-white rounded-md py-1 border-2 text-center font-normal text-md hover:border-emerald-500",children:[t.name," - ",t.code]},l)}))})})}),(0,e.jsxs)("div",{className:"w-full pt-4 px-4 bg-background pb-10",children:[(0,e.jsx)("div",{className:"w-full rounded-lg bg-white grid place-items-center shadow-lg py-2 sm:w-96 mx-auto",children:(0,e.jsx)(ne,{to:"/",className:"cursor-pointer",children:(0,e.jsx)("img",{src:"./images/swrvlogo.png",className:"w-28 lg:w-32"})})}),(0,e.jsxs)("div",{className:"bg-white w-full shadow-xl p-4 mt-4 rounded-lg mx-auto sm:w-96",children:[(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{type:"file",accept:"image/*",ref:L,onChange:t=>{parseInt((t.target.files[0].size/1024/1024).toString())<4?(I(null),me(t.target.files[0])):I("Image file size must be less then 4 mb")}})}),(0,e.jsxs)("div",{className:"bg-gray-200 rounded-lg my-6 mr-6 p-4 text-gray-400 flex w-full items-center justify-center",children:[(0,e.jsx)("div",{className:"grid place-items-center w-40 mr-4 h-40 object-cover",children:u==null?(0,e.jsx)("img",{src:"/images/icons/gallery.png",alt:"error",className:"w-40 object-cover inline-block"}):(0,e.jsx)("img",{src:URL.createObjectURL(u),alt:"error",className:"w-20 h-20 inline-block object-cover rounded-md"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"mt-4",children:"Drop profile photo here."}),(0,e.jsx)("p",{className:"mt-4",children:"The image should either be jpg jped or png format and be a maximum size of 4 MB"}),(0,e.jsxs)("div",{className:"mt-4",children:[h==""||h==null||h==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:h}),(0,e.jsx)("div",{onClick:()=>{var t;(t=L.current)==null||t.click()},children:(0,e.jsx)(B,{text:"Upload",textColor:"text-white",width:"w-full",background:"bg-gray-400"})})]})]})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand Name"}),(0,e.jsx)("input",{ref:s,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand code"}),(0,e.jsx)("input",{ref:c,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand website"}),(0,e.jsx)("input",{ref:f,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand address"}),(0,e.jsx)("input",{ref:m,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand city"}),(0,e.jsxs)("div",{className:"w-full bg-[#EEEEEE] rounded-md flex p-2",children:[(0,e.jsx)("div",{className:"grow",children:(0,e.jsx)("input",{ref:d,className:"h-full w-full outline-none focus:border-gray-300 bg-transparent"})}),(0,e.jsx)("div",{className:"bg-white text-bold p-2 rounded-md grid place-items-center w-8 h-8 cursor-pointer",onClick:()=>{var t,l,b,v,x;((t=d.current)==null?void 0:t.value)==null||((l=d.current)==null?void 0:l.value)==null||((b=d.current)==null?void 0:b.value)==""?A("Enter the city name"):(N(!0),A(null),xe((x=(v=d.current)==null?void 0:v.value)!=null?x:""))},children:(0,e.jsx)(oe,{icon:de})})]}),E==""||E==null||E==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:E}),a==""||a==null||a==null?null:(0,e.jsxs)("div",{className:"bg-white bg-opacity-10 border-2 text-center border-black rounded-md text-black text-md font-normal text-md my-4",children:[a.name," - ",a.code]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Contact"}),(0,e.jsxs)("div",{className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md flex",children:[(0,e.jsx)("div",{className:"text-center text-black font-normal text-md mr-4",children:a==null?0:a.country.isd}),(0,e.jsx)("input",{onChange:ve,value:o,type:"text",maxLength:10,className:"w-full outline-none bg-transparent focus:border-gray-300 rounded-md resize-none"})]}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Support Email"}),(0,e.jsx)("input",{ref:i,className:"p-2 w-full outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Brand info"}),(0,e.jsx)("textarea",{ref:p,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),(0,e.jsx)("h2",{className:"text-primary tect-xl font-medium text-left my-1",children:"Company info"}),(0,e.jsx)("textarea",{ref:g,className:"p-2 w-full h-32 outline-none bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none"}),y==""||y==null||y==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:y}),(0,e.jsx)("div",{onClick:async()=>{var t,l,b,v,x,T,z,R,S,H,M,j,U,O,D,$,q,V,_,P,W,X,G,J,K,Q,Y,Z,ee;if(u==null||u==null)n("Select the image");else if(((t=s.current)==null?void 0:t.value)==null||((l=s.current)==null?void 0:l.value)==null||((b=s.current)==null?void 0:b.value)=="")n("Fill the Brand name");else if(((v=c.current)==null?void 0:v.value)==null||((x=c.current)==null?void 0:x.value)==null||((T=c.current)==null?void 0:T.value)=="")n("Fill the Brand code");else if(((z=f.current)==null?void 0:z.value)==null||((R=f.current)==null?void 0:R.value)==null||((S=f.current)==null?void 0:S.value)=="")n("Fill the Brand website");else if(((H=m.current)==null?void 0:H.value)==null||((M=m.current)==null?void 0:M.value)==null||((j=m.current)==null?void 0:j.value)=="")n("Fill the Brand address");else if(a==null)n("Fill the city");else if(o==null||o==null||o==0)n("Fill the contact number");else if(((U=i.current)==null?void 0:U.value)==null||((O=i.current)==null?void 0:O.value)==null||((D=i.current)==null?void 0:D.value)=="")n("Fill the Brand info");else if(!ue.validate(($=i.current)==null?void 0:$.value))n("Enter valid email");else if(o.toString().length!=10)n("Enter a 10 degit valid contact number");else if(((q=p.current)==null?void 0:q.value)==null||((V=p.current)==null?void 0:V.value)==null||((_=p.current)==null?void 0:_.value)=="")n("Fill the Brand info");else if(((P=g.current)==null?void 0:P.value)==null||((W=g.current)==null?void 0:W.value)==null||((X=g.current)==null?void 0:X.value)=="")n("Fill the Campany info");else{let ye=await ie(u),he={userId:ce,brandLogoUrl:ye,brandName:(G=s.current)==null?void 0:G.value,brandCode:(J=c.current)==null?void 0:J.value,brandWebUrl:(K=f.current)==null?void 0:K.value,brandFullRegisteredAddress:(Q=m.current)==null?void 0:Q.value,brandSupportEmail:(Y=i.current)==null?void 0:Y.value,brandSupportContact:o,brandBioInfo:(Z=p.current)==null?void 0:Z.value,comapnyBio:(ee=g.current)==null?void 0:ee.value,cityId:a.id},te=await C({method:"post",url:`${k}/api/add-brand`,data:he,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Options":"*","Access-Control-Allow-Methods":"*","X-Content-Type-Options":"*","Content-Type":"application/json",Accept:"*"}});return te.data.status==!1?n(te.data.message):se("/home")}},children:(0,e.jsx)(B,{text:"Create Brand",background:"bg-secondary",textColor:"text-white",width:"w-full"})})]})]})]})},Ce=Ne;export{Ce as default};
