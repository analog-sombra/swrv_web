import{b as U,c as S,d as H}from"/build/_shared/chunk-N5RZEG6Y.js";import"/build/_shared/chunk-6EK5NIKP.js";import"/build/_shared/chunk-57PMQZPE.js";import{a as $,b as L}from"/build/_shared/chunk-RPPBX5QT.js";import{a as E}from"/build/_shared/chunk-6ONMTUBQ.js";import{a as h,b as w}from"/build/_shared/chunk-MNPIC26H.js";import{C as F,I as R,a as g,s as B,u as P,w as A}from"/build/_shared/chunk-RWDLZR7I.js";import{k as q}from"/build/_shared/chunk-WLPYV2BQ.js";import{c as j,d as z,e as T}from"/build/_shared/chunk-7UEYUE33.js";var n=j(z());var e=j(T());var _=()=>{let t=q().campaign,d=q().user,l=d.role.code!=10,v=q(),r=d.id,x=t.brand==null||t.brand.length==0||t.brand==null||t.brand==""||t.brand.logo==""||t.brand.logo==null||t.brand.logo=="0"||t.brand.logo==null?"/images/avatar/user.png":t.brand.logo,m=t.brand.name,[a,b]=(0,n.useState)(""),[o,u]=(0,n.useState)(0),[c,p]=(0,n.useState)([]),f=async()=>{b(await L(t.campaignTypeId));let N={search:{campaign:t.id,influencer:r,fromUser:r}},s=await h.post(`${w}/api/search-invite`,N);s.data.status==!0?(s.data.data[0].status.code=="1"&&u(1),s.data.data[0].status.code=="3"&&u(2),s.data.data[0].status.code=="5"&&u(3),p(s.data.data)):u(0)};return(0,n.useEffect)(()=>{f()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid gap-y-4 lg:gap-4 grid-cols-1 lg:grid-cols-7 mt-4 justify-start align-top content-start place-items-start place-content-start",children:[(0,e.jsx)(V,{logo:x,name:m,website:t.brand.website,info:t.brand.info}),(0,e.jsx)(W,{dont:t.donts,dos:t.dos,hastag:t.hashtags,mendtion:t.mentions,platform:t.platforms,moddboard:t.moodBoards,info:t.campaignInfo,name:t.campaignName,image:x,website:t.brand.website,category:a}),(0,e.jsxs)("div",{className:"lg:col-start-6 lg:col-end-8 grid gap-y-4 w-full",children:[(0,e.jsx)(J,{currecny:t.currency.code,costperpost:t.costPerPost,totalbudget:t.totalBudget.split(".")[0],remaining:"1400"}),(0,e.jsx)(Y,{audienceloaction:t.audienceLocations,minreach:t.minReach,maxreach:t.maxReach,startdate:t.startAt,enddate:t.endAt}),l?null:(0,e.jsxs)(e.Fragment,{children:[o==0?(0,e.jsx)(G,{champaignId:t.id,touserId:t.brandUserId,userId:r,influencerId:r,fromuserId:r}):null,o==1?(0,e.jsx)(K,{}):null,o==3?(0,e.jsx)(Z,{reason:c[0].status.message,champaignId:t.id,touserId:t.brandUserId,userId:r,influencerId:r,fromuserId:r}):null]})]})]}),o==2?(0,e.jsxs)("div",{className:"flex gap-4 flex-col lg:flex-row mt-8",children:[(0,e.jsx)("div",{className:"grow flex-1",children:(0,e.jsx)(ee,{influencerId:r,champaingId:t.id,platforms:v.platform})}),(0,e.jsxs)("div",{className:"grow flex-1",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Live campaigns"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsxs)("div",{className:"bg-white rounded-md p-4 mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/images/media/facebook.png",alt:"error",className:"h-10 w-10 shrink-0"}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-primary text-sm font-semibold text-left",children:"Ivankbfc_Blasters"}),(0,e.jsx)("p",{className:"text-primary text-sm font-normal text-left",children:"Publish date: Today"})]})]}),(0,e.jsx)("button",{className:"mt-4 text-md w-full text-black font-semibold bg-[#F7941D] rounded-md shadow-lg py-1",children:"Link campaign"})]}),(0,e.jsxs)("div",{className:"bg-white rounded-md p-4 mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:"/images/media/instagram.png",alt:"error",className:"h-10 w-10 shrink-0"}),(0,e.jsxs)("div",{className:"ml-4",children:[(0,e.jsx)("p",{className:"text-primary text-sm font-semibold text-left",children:"Ivankbfc_Blasters"}),(0,e.jsx)("p",{className:"text-primary text-sm font-normal text-left",children:"Publish date: 30-01-2022"})]})]}),(0,e.jsx)("button",{className:"mt-4 text-md w-full text-black font-semibold bg-[#F7941D] rounded-md shadow-lg py-1",children:"View insight"})]})]}),(0,e.jsxs)("div",{className:"grow flex-1",children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Payments"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full mt-2",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(g,{icon:P,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Budget"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:"6420 USD"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2 "}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Received"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-normal text-black",children:"2700 USD"})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Pending"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-normal text-black",children:"3540 USD"})]})]}),(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Payment request"}),(0,e.jsx)("button",{className:"text-black bg-[#01FFF4] rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Request"})]})]})]}):null,(0,e.jsx)("div",{className:"my-6",children:l?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q,{userId:r,campaingid:t.id}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(X,{userId:r,campaingid:t.id})]}):null})]})},O=_,V=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-2 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.logo,alt:"brand logo",className:"object-cover w-16 h-16 rounded"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left mt-2",children:"Category : Consumer Electronics"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Brand info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(U,{}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(S,{}),(0,e.jsx)("div",{className:"h-4"}),(0,e.jsx)(H,{})]})}),W=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"col-span-3 rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex items-end gap-x-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("img",{src:t.image,alt:"error",className:"object-cover w-16 h-16 rounded"})}),(0,e.jsx)("p",{className:"text-black font-semibold text-xl content-end text-left",children:t.name})]}),(0,e.jsxs)("p",{className:"text-black font-semibold text-xs text-left mt-4",children:["Category : ",t.category]}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.website}),(0,e.jsx)("h3",{className:"text-black font-bold text-md text-left",children:"Campaign info"}),(0,e.jsx)("p",{className:"text-black font-semibold text-xs text-left",children:t.info}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Moodboard"}),(0,e.jsx)("div",{className:"flex gap-x-4 overflow-x-scroll no-scrollbar",children:t.moddboard.map((d,l)=>(0,e.jsx)("div",{className:"shrink-0",children:(0,e.jsx)("img",{src:d.url,alt:"error",className:"h-14 w-14 object-cover rounded-md"})},l))})]}),(0,e.jsx)("p",{className:"text-black text-left text-md font-medium mt-2",children:"Platforms"}),(0,e.jsx)("div",{className:"flex items-center w-32 overflow-x-scroll no-scrollbar",children:t.platform.map((d,l)=>(0,e.jsx)("div",{className:"p-1 shrink-0 mx-1 ",children:(0,e.jsx)("img",{src:d.platformLogoUrl,alt:"error",className:"rounded-lg w-8 h-8"})},l))}),(0,e.jsxs)("div",{className:"bg-gray-200  rounded-md py-2 flex justify-around w-72 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Do's"}),t.dos.split(",").map((d,l)=>(0,e.jsx)("p",{className:"text-md font-normal",children:d},l))]}),(0,e.jsx)("div",{className:"h-10 w-[1px] bg-slate-900"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-semibold",children:"Dont's"}),t.dont.split(",").map((d,l)=>(0,e.jsx)("p",{className:"text-md font-normal",children:d},l))]})]}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Hastags"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.hastag.split(",").map((d,l)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["#",d]},l))}),(0,e.jsx)("p",{className:"text-sm font-semibold mt-4",children:"Mendtions"}),(0,e.jsx)("div",{className:"flex flex-nowrap gap-2 my-4",children:t.mendtion.split(",").map((d,l)=>(0,e.jsxs)("p",{className:"text-md font-normal rounded-md bg-gray-300 py-1 px-4",children:["@",d]},l))})]})}),Y=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(g,{icon:P,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Target"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2"}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Audience loaction"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-primary",children:t.audienceloaction})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Min Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.minreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Max Reach"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.maxreach})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Start Date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.startdate})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"End date"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("p",{className:"text-md font-bold text-black",children:t.enddate})]})]})}),G=t=>{let[d,l]=(0,n.useState)(!1),v=()=>l(!0),r=()=>l(!1),[x,m]=(0,n.useState)(null),a=(0,n.useRef)(null),b=async()=>{var c,p,f,N;if(((c=a.current)==null?void 0:c.value)==null||((p=a.current)==null?void 0:p.value)==null||((f=a.current)==null?void 0:f.value)=="")return m("Message can't be blank");let o={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(N=a.current)==null?void 0:N.value},u=await h.post(`${w}/api/add-invite`,o);u.data.status==!1?m(u.data.message):(a.current.value="",r()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Would you like to participate in this campaign?"}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:v,children:(0,e.jsx)(E,{text:"Apply",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${d?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:r,children:(0,e.jsx)(g,{icon:F,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Applay for campaign"}),(0,e.jsx)("textarea",{ref:a,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),x==""||x==null||x==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:x}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:b,children:(0,e.jsx)(E,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},J=t=>(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"rounded-xl shadow-xl bg-white p-4 w-full",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(g,{icon:P,className:"text-xl text-primary"}),(0,e.jsx)("h2",{className:"text-xl text-primary font-medium px-4",children:"Budget"})]}),(0,e.jsx)("div",{className:"h-[1px] bg-gray-500 w-full my-2 "}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Cost per post"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-primary",children:[t.costperpost," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Total budget"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.totalbudget," ",t.currecny]})]}),(0,e.jsxs)("div",{className:"flex my-2",children:[(0,e.jsx)("p",{className:"text-md text-primary",children:"Remaining"}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("p",{className:"text-md font-bold text-black",children:[t.remaining," ",t.currecny]})]})]})}),K=()=>(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request in progress.."})})}),Q=t=>{let[d,l]=(0,n.useState)([]),[v,r]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[a,b]=(0,n.useState)(null),o=(0,n.useRef)(null),[u,c]=(0,n.useState)(null),p=async()=>{let s={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},i=await h.post(`${w}/api/search-invite`,s);i.data.status==!0&&l(i.data.data)},f=async()=>{let s={id:u,status:"3"},i=await h.post(`${w}/api/update-invite`,s);if(i.data.staus==!1)return b(i.data.message);r(!1),window.location.reload()},N=async()=>{var y,I,k,C;if(((y=o.current)==null?void 0:y.value)==null||((I=o.current)==null?void 0:I.value)==null||((k=o.current)==null?void 0:k.value)=="")return b("Fell the reason.");let s={id:u,status:"5",rejectReason:(C=o.current)==null?void 0:C.value},i=await h.post(`${w}/api/update-invite`,s);if(i.data.staus==!1)return b(i.data.message);o.current.value=="",m(!1),window.location.reload()};return(0,n.useEffect)(()=>{p()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${v?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this?"}),a==""||a==null||a==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:a}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{r(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:f,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:o,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),a==""||a==null||a==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:a}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{m(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:N,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:d.length==0?(0,e.jsx)("div",{children:"No Invite request is panding"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested Invites"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"grid mt-4 place-items-center md:place-items-start grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map((s,i)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Message"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.inviteMessage}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{c(s.id),r(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{c(s.id),m(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Reject"]})]}),(0,e.jsx)("div",{})]},i))})]})})]})},X=t=>{let[d,l]=(0,n.useState)([]),[v,r]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[a,b]=(0,n.useState)(null),o=(0,n.useRef)(null),[u,c]=(0,n.useState)(null),p=async()=>{let s={search:{status:"1",campaign:t.campaingid,toUser:t.userId}},i=await h.post(`${w}/api/search-draft`,s);i.data.status==!0&&l(i.data.data)},f=async()=>{let s={id:u,status:"3"},i=await h.post(`${w}/api/update-draft`,s);if(i.data.staus==!1)return b(i.data.message);r(!1),window.location.reload()},N=async()=>{var y,I,k,C;if(((y=o.current)==null?void 0:y.value)==null||((I=o.current)==null?void 0:I.value)==null||((k=o.current)==null?void 0:k.value)=="")return b("Fell the reason.");let s={id:u,status:"5",rejectReason:(C=o.current)==null?void 0:C.value},i=await h.post(`${w}/api/update-draft`,s);if(i.data.staus==!1)return b(i.data.message);o.current.value=="",m(!1),window.location.reload()};return(0,n.useEffect)(()=>{p()},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${v?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Accept"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("p",{className:"text-center font-medium text-gray-800",children:"Are you sure you want to accept this draft?"}),a==""||a==null||a==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:a}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{r(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:f,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Accept"]})]})]})}),(0,e.jsx)("div",{className:`fixed top-0 left-0  h-screen w-full bg-slate-900 bg-opacity-10 place-items-center ${x?"grid":"hidden"}`,children:(0,e.jsxs)("div",{className:"bg-white w-72 shadow-lg p-4 rounded-lg",children:[(0,e.jsx)("p",{className:"text-center font-medium text-2xl",children:"Reject"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("input",{ref:o,type:"text",className:"w-full bg-gray-200 rounded-lg  px-2 py-1 my-2 outline-none",placeholder:"Enter the reason of rejection."}),a==""||a==null||a==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:a}),(0,e.jsxs)("div",{className:"flex mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{m(!1)},className:"bg-white rounded-xl text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Cancel"]}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsxs)("button",{onClick:N,className:"bg-white rounded-xl text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Reject"]})]})]})}),(0,e.jsx)("div",{className:"p-4 rounded-xl shadow-xl bg-white",children:d.length==0?(0,e.jsx)("div",{children:"No draft request is panding"}):(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-md font-medium",children:"Requested drafts"}),(0,e.jsx)("div",{className:"w-full bg-gray-400 h-[1px] my-2"}),(0,e.jsx)("div",{className:"grid mt-4 place-items-center md:place-items-start grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map((s,i)=>(0,e.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-lg",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("img",{src:s.influencer.pic,alt:"influencer pic",className:"w-10 h-10 shrink-0 rounded-md"}),(0,e.jsxs)("div",{className:"ml-2",children:[(0,e.jsx)("p",{className:"text-md font-medium",children:s.influencer.name}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.influencer.email})]})]}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Description"}),(0,e.jsx)("p",{className:"text-sm font-medium",children:s.description}),(0,e.jsx)("p",{className:"mt-2 text-md font-medium",children:"Attachment"}),(0,e.jsx)("a",{target:"_blank",className:"mt-2 text-sm font-normal border-2 border-blue-500 inline-block my-2 py-1 px-4  text-blue-500 hover:text-white hover:bg-blue-500",href:s.attach01,children:"View pdf"}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,e.jsxs)("button",{onClick:()=>{c(s.id),r(!0)},className:"bg-white  text-green-500 font-normal border-2 border-green-500 py-1 px-2 w-28 hover:text-white hover:bg-green-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:R}),"Accept"]}),(0,e.jsxs)("button",{onClick:()=>{c(s.id),m(!0)},className:"bg-white  text-red-500 font-normal border-2 border-red-500 py-1 px-2 w-28 hover:text-white hover:bg-red-500",children:[(0,e.jsx)(g,{className:"mx-2",icon:A}),"Reject"]})]}),(0,e.jsx)("div",{})]},i))})]})})]})},Z=t=>{let[d,l]=(0,n.useState)(!1),v=()=>l(!0),r=()=>l(!1),[x,m]=(0,n.useState)(null),a=(0,n.useRef)(null),b=async()=>{var c,p,f,N;if(((c=a.current)==null?void 0:c.value)==null||((p=a.current)==null?void 0:p.value)==null||((f=a.current)==null?void 0:f.value)=="")return m("Message can't be blank");let o={campaignId:t.champaignId,influencerId:t.influencerId,fromUserId:t.fromuserId,toUserId:t.touserId,inviteMessage:(N=a.current)==null?void 0:N.value},u=await h.post(`${w}/api/add-invite`,o);u.data.status==!1?m(u.data.message):(a.current.value="",r()),window.location.reload()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"p-4 rounded-xl shadow-xl bg-primary",children:[(0,e.jsx)("h1",{className:"text-white text-xl text-left font-normal",children:"Your request has been rejected.."}),(0,e.jsxs)("p",{className:"text-white font-normal text-md",children:["Reason : ",t.reason]}),(0,e.jsx)("div",{className:"w-full grid place-items-center",onClick:v,children:(0,e.jsx)(E,{text:"Apply again!",textColor:"text-white",background:"bg-secondary"})})]}),(0,e.jsx)("div",{className:`w-full h-screen bg-gray-500 fixed top-0 left-0 bg-opacity-30 grid place-items-center ${d?"fixed":"hidden"} `,children:(0,e.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-xl w-96",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:r,children:(0,e.jsx)(g,{icon:F,className:"font-bold text-2xl text-center text-primary"})})]}),(0,e.jsx)("h1",{className:"text-primary text-lg font-bold text-left",children:"Connect"}),(0,e.jsx)("p",{className:"text-lg font-normal",children:"Subject : Applay for campaign"}),(0,e.jsx)("textarea",{ref:a,className:"p-4 w-full h-40 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none mt-4",placeholder:"message"}),x==""||x==null||x==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:x}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{onClick:b,children:(0,e.jsx)(E,{text:"send",background:"bg-primary",textColor:"text-white"})})]})]})})]})},ee=t=>{let d=(0,n.useRef)(null),l=(0,n.useRef)(null),v=(0,n.useRef)(null),[r,x]=(0,n.useState)(),[m,a]=(0,n.useState)(null),[b,o]=(0,n.useState)(!1),[u,c]=(0,n.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{className:"text-md text-primary font-semibold py-1",children:"Campaign draft"}),(0,e.jsx)("div",{className:"w-full h-[1px] bg-slate-300"}),b?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("div",{className:"flex gap-2 mt-2 overflow-x-scroll no-scrollbar py-4",children:t.platforms.map((p,f)=>(0,e.jsx)("div",{className:`shrink-0  p-2 rounded-lg ${m==p.id?"bg-white shadow-xl ":"bg-gray-200"} `,onClick:()=>{a(p.id)},children:(0,e.jsx)("img",{src:t.platforms[f].platformLogoUrl,alt:"error",className:"w-10 h-10"})},f))}),(0,e.jsxs)("div",{className:"bg-[#EEEEEE] w-full h-10 rounded-lg flex items-center pl-4",children:[(0,e.jsx)("h3",{className:"text-black font-semibold  text-md",children:r==null?"":r.name}),(0,e.jsx)("div",{className:"grow"}),(0,e.jsx)("div",{className:"grid place-items-center px-4 bg-gray-300 rounded-lg cursor-pointer h-full",onClick:()=>{l.current.click()},children:(0,e.jsx)(g,{icon:B})})]}),(0,e.jsx)("div",{className:"hidden",children:(0,e.jsx)("input",{ref:l,type:"file",accept:"application/pdf",onChange:p=>{parseInt((p.target.files[0].size/1024/1024).toString())<2?(c(null),x(p.target.files[0])):c("Pdf file size must be less then 4 mb")}})}),(0,e.jsx)("input",{type:"date",ref:d,className:"bg-[#EEEEEE] outline-none border-none rounded-lg focus:border-gray-300 mt-4 w-full p-2"}),(0,e.jsx)("textarea",{ref:v,className:"focus:border-none focus:outline-none mt-4 p-4 w-full h-20 outline-none border-2 bg-[#EEEEEE] focus:border-gray-300 rounded-md resize-none",placeholder:"description..."}),u==""||u==null||u==null?null:(0,e.jsx)("div",{className:"bg-red-500 bg-opacity-10 border-2 text-center border-red-500 rounded-md text-red-500 text-md font-normal text-md my-4",children:u}),(0,e.jsx)("button",{onClick:async()=>{var s,i,y,I,k,C,D,M;m==null||m==null||m==0||m==""?c("Select the platform."):r==null||r==null?c("Select the pdf file."):((s=d.current)==null?void 0:s.value)==null||((i=d.current)==null?void 0:i.value)==null||((y=d.current)==null?void 0:y.value)==""?c("Select the date."):(((I=v.current)==null?void 0:I.value)==null||((k=v.current)==null?void 0:k.value)==null||((C=v.current)==null?void 0:C.value)=="")&&c("Write the description.");let p=await $(r),f={campaignId:t.champaingId,influencerId:t.influencerId,handleId:m,publishAt:(D=d.current)==null?void 0:D.value,attach01:p,description:(M=v.current)==null?void 0:M.value},N=await h({method:"post",url:`${w}/api/add-draft`,data:f});return N.data.status==!1?c(N.data.message):(c(null),o(!1))},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Submit"})]})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"p-4 bg-white mt-2 rounded-md",children:[(0,e.jsx)("p",{className:"text-sm text-normal font-semibold py-1 text-primary",children:"Create campaign draft"}),(0,e.jsx)("button",{onClick:()=>{o(!0)},className:"text-white bg-primary rounded-lg w-full text-center py-2 font-semibold text-md mt-2",children:"Create"})]})})]})};export{O as default};
